<div *ngIf="data.type == 'Info'">
<h2 mat-dialog-title>Informazioni Utente</h2>
<mat-dialog-content>
  <!--FORM INFO UTENTE-->
  <form >
    <mat-form-field>
      <mat-label>Nome</mat-label>
      <input type="text" title="Nome" value="{{ user?.nome }}" matInput readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Cognome</mat-label>
      <input type="text" title="Cognome" matInput value="{{ user?.cognome }}" readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Email</mat-label>
      <input type="text" title="Email" matInput value="{{ user?.email }}" readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Codice Fiscale</mat-label>
      <input type="text" title="CodFiscale" matInput value="{{ user?.codFiscale }}" readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Data di Nascita</mat-label>
      <input type="text" title="DataNascita" value="{{ user?.dataNascita?.toLocaleDateString('it-IT') }}" matInput readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Via</mat-label>
      <input type="text" title="Via" matInput value="{{ user?.via }}" readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Numero</mat-label>
      <input type="text" title="Numero" matInput value="{{ user?.numero }}" readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Citta</mat-label>
      <input type="text" title="Citta" matInput value="{{ user?.citta }}" readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Regione</mat-label>
      <input type="text" title="Regione" matInput value="{{ user?.regione }}" readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Nazione</mat-label>
      <input type="text" title="Nazione" matInput value="{{ user?.nazione }}" readonly>
    </mat-form-field>
  </form>
</mat-dialog-content>
</div>

<div *ngIf="data.type == 'updateInfo'">
  <h2 mat-dialog-title>Informazioni Utente</h2>
  <mat-dialog-content>
    <!--FORM INFO UTENTE-->
    <form [formGroup]="UserForm">
      <mat-form-field>
        <mat-label>Nome</mat-label>
        <input type="text" title="Nome" formControlName="Nome" matInput>
        <mat-error *ngIf="UserForm.get('Nome')?.hasError('required')">
          Campo Nome Obbligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Cognome</mat-label>
        <input type="text" title="Cognome" formControlName="Cognome" matInput>
        <mat-error *ngIf="UserForm.get('Cognome')?.hasError('required')">
          Campo Cognome Obbligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Email</mat-label>
        <input type="text" title="Email" formControlName="Email" matInput readonly>
        <mat-error *ngIf="UserForm.get('Email')?.hasError('required')">
          Campo Email Obbligatorio
        </mat-error>
        <mat-error *ngIf="UserForm.get('Email')?.hasError('email')">
          Campo Email non Valido
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Codice Fiscale</mat-label>
        <input type="text" title="CodFiscale" formControlName="CodFiscale" matInput>
        <mat-error *ngIf="UserForm.get('CodFiscale')?.hasError('required')">
          Campo Cognome Obbligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Data di Nascita</mat-label>
        <input type="text" title="DataNascita" formControlName="DataNascita" matInput>
        <mat-error *ngIf="UserForm.get('DataNascita')?.hasError('required')">
          Campo Data Nascita Obbligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Via</mat-label>
        <input type="text" title="Via" formControlName="Via" matInput>
        <mat-error *ngIf="UserForm.get('Via')?.hasError('required')">
          Campo Via Obbligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Numero</mat-label>
        <input type="text" title="Numero" formControlName="Numero" matInput>
        <mat-error *ngIf="UserForm.get('Numero')?.hasError('required')">
          Campo Numero Obbligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Citta</mat-label>
        <input type="text" title="Citta" formControlName="Citta" matInput>
        <mat-error *ngIf="UserForm.get('Citta')?.hasError('required')">
          Campo Citta Obbligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Regione</mat-label>
        <input type="text" title="Regione" formControlName="Regione" matInput>
        <mat-error *ngIf="UserForm.get('Regione')?.hasError('required')">
          Campo Regione Obbligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Nazione</mat-label>
        <input type="text" title="Nazione" formControlName="Nazione" matInput>
        <mat-error *ngIf="UserForm.get('Nazione')?.hasError('required')">
          Campo Nazione Obbligatorio
        </mat-error>
      </mat-form-field>
    </form>
  </mat-dialog-content>
  </div>

<div *ngIf="data.type == 'InfoSub'">
  <h2 mat-dialog-title>Informazioni Abbonamento</h2>
  <table mat-table [dataSource]="subList" matSort>
    <!-- Define columns -->
    <ng-container matColumnDef="Tipo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Tipo Abbonamento</th>
      <td mat-cell *matCellDef="let element">{{element.tipoAbbonamento}}</td>
    </ng-container>
    <ng-container matColumnDef="Inizio">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Inizio</th>
      <td mat-cell *matCellDef="let element">{{element.dataIscrizione.toLocaleDateString('it-IT')}}</td>
    </ng-container>
    <ng-container matColumnDef="Scadenza">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Scadenza</th>
      <td mat-cell *matCellDef="let element">{{element.dataScadenza.toLocaleDateString('it-IT')}}</td>
    </ng-container>
    <!-- Header and row definitions -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
</div>
  
<div *ngIf="data.type == 'AddSub'">
  <h2 mat-dialog-title>Aggiungi Abbonamento</h2>
  <mat-dialog-content>
    <!--FORM ADD SUB-->
    <form [formGroup]="SubForm">
      <mat-form-field>
        <mat-label>Tipo Abbonamento</mat-label>
        <mat-select formControlName="IdTipoAbbonamento">
          <mat-option *ngFor="let option of subType" [value]="option.id">
            {{ option.descrizione }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Data Inizio</mat-label>
        <input type="date" title="DataInizio" formControlName="DataInizio" matInput>
      </mat-form-field>
    </form>
      </mat-dialog-content>
</div>

    <div *ngIf="data.type == 'AddDoc'">
      <h2 mat-dialog-title>Aggiungi Documento</h2>
      <mat-dialog-content>
         <!--FORM ADD SUB-->
       <form>
        <mat-form-field>
          <mat-label>Nome</mat-label>
          <input type="text" title="Nome" matInput>
        </mat-form-field>
        <mat-form-field>
          <mat-label>File</mat-label>
          <input type="file" title="File" matInput>
        </mat-form-field>
      </form>
      </mat-dialog-content>
      </div>  
  
<mat-dialog-actions>
  <button *ngIf="data.type == 'updateInfo'" mat-button (click)="Ok('updateInfo')">Conferma</button>
  <button *ngIf="data.type == 'AddSub'" mat-button (click)="Ok('AddSub')">Conferma</button>
  <button *ngIf="data.type == 'AddDoc'" mat-button (click)="Ok('AddDoc')">Conferma</button>
  <button mat-button (click)="close()">Chiudi</button>
</mat-dialog-actions>
